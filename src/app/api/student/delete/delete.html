<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-lg-6 col-md-8">

      <!-- Admin View: Show the confirmation card -->
      <div *ngIf="isAdmin; else nonAdminBlock">
        <div class="card border-danger shadow-lg">
          <div class="card-header bg-danger bg-opacity-75 text-white">
            <h2 class="h4 mb-0 d-flex align-items-center gap-2">
              <i class="bi bi-exclamation-triangle-fill"></i>
              Confirm Deletion
            </h2>
          </div>

          <div class="card-body">
            <p class="card-text">Are you sure you want to permanently delete this student? This action cannot be undone.</p>
            <hr>
            
            <dl class="row">
              <dt class="col-sm-3 text-muted">Name:</dt>
              <dd class="col-sm-9 fw-bold">{{ studentData.name }}</dd>

              <dt class="col-sm-3 text-muted">Student ID:</dt>
              <dd class="col-sm-9 font-monospace">{{ studentData.studentId }}</dd>
            </dl>
          </div>

          <div class="card-footer bg-light d-flex justify-content-end gap-2">
            <button type="button" class="btn btn-secondary" (click)="cancel()">
              Cancel
            </button>
            <button type="button" class="btn btn-danger px-4" (click)="onDelete()">
              Yes, Delete
            </button>
          </div>
        </div>
      </div>

      <!-- Non-Admin View: Show access denied message -->
      <ng-template #nonAdminBlock>
        <div class="alert alert-danger text-center" role="alert">
          <h4 class="alert-heading">
            <i class="bi bi-slash-circle-fill"></i> Access Denied
          </h4>
          <p>You do not have permission to delete student records. This action is restricted to administrators.</p>
        </div>
      </ng-template>

    </div>
  </div>
</div>
